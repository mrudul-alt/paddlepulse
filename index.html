<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ping Pong</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    }
    canvas {
      display: block;
      background: #ffffff;
    }
  </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">
  <div class="text-center">
    <div class="mb-6">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">Ping Pong</h1>
      <p class="text-sm text-gray-600">Player 1: W/S • Player 2: ↑/↓</p>
    </div>
    
    <div class="relative inline-block shadow-lg rounded-lg overflow-hidden">
      <canvas id="gameCanvas" width="800" height="500"></canvas>
    </div>
    
    <div class="mt-6 flex justify-center gap-8">
      <div class="text-center">
        <p class="text-sm text-gray-600 mb-1">Player 1</p>
        <p id="score1" class="text-3xl font-bold text-gray-900">0</p>
      </div>
      <div class="text-center">
        <p class="text-sm text-gray-600 mb-1">Player 2</p>
        <p id="score2" class="text-3xl font-bold text-gray-900">0</p>
      </div>
    </div>
    
    <button id="resetBtn" class="mt-6 px-6 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors">
      Reset Game
    </button>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const score1El = document.getElementById('score1');
    const score2El = document.getElementById('score2');
    const resetBtn = document.getElementById('resetBtn');

    // Game objects
    const paddleWidth = 12;
    const paddleHeight = 80;
    const ballSize = 12;

    let player1 = {
      x: 30,
      y: canvas.height / 2 - paddleHeight / 2,
      width: paddleWidth,
      height: paddleHeight,
      dy: 0,
      score: 0
    };

    let player2 = {
      x: canvas.width - 30 - paddleWidth,
      y: canvas.height / 2 - paddleHeight / 2,
      width: paddleWidth,
      height: paddleHeight,
      dy: 0,
      score: 0
    };

    let ball = {
      x: canvas.width / 2,
      y: canvas.height / 2,
      size: ballSize,
      dx: 4,
      dy: 4,
      speed: 4
    };

    // Keyboard controls
    const keys = {};

    window.addEventListener('keydown', (e) => {
      keys[e.key] = true;
    });

    window.addEventListener('keyup', (e) => {
      keys[e.key] = false;
    });

    // Reset ball
    function resetBall() {
      ball.x = canvas.width / 2;
      ball.y = canvas.height / 2;
      ball.speed = 4;
      ball.dx = (Math.random() > 0.5 ? 1 : -1) * ball.speed;
      ball.dy = (Math.random() * 2 - 1) * ball.speed;
    }

    // Reset game
    function resetGame() {
      player1.score = 0;
      player2.score = 0;
      score1El.textContent = '0';
      score2El.textContent = '0';
      resetBall();
    }

    resetBtn.addEventListener('click', resetGame);

    // Update game state
    function update() {
      // Player 1 controls (W/S)
      if (keys['w'] || keys['W']) {
        player1.y = Math.max(0, player1.y - 6);
      }
      if (keys['s'] || keys['S']) {
        player1.y = Math.min(canvas.height - player1.height, player1.y + 6);
      }

      // Player 2 controls (Arrow Up/Down)
      if (keys['ArrowUp']) {
        player2.y = Math.max(0, player2.y - 6);
      }
      if (keys['ArrowDown']) {
        player2.y = Math.min(canvas.height - player2.height, player2.y + 6);
      }

      // Update ball position
      ball.x += ball.dx;
      ball.y += ball.dy;

      // Ball collision with top/bottom walls
      if (ball.y <= 0 || ball.y + ball.size >= canvas.height) {
        ball.dy *= -1;
      }

      // Ball collision with paddles
      // Player 1 paddle
      if (
        ball.x <= player1.x + player1.width &&
        ball.x + ball.size >= player1.x &&
        ball.y + ball.size >= player1.y &&
        ball.y <= player1.y + player1.height
      ) {
        ball.dx = Math.abs(ball.dx);
        ball.speed += 0.2;
        ball.dx = ball.speed;
        
        // Add angle based on where ball hits paddle
        const hitPos = (ball.y - player1.y) / player1.height;
        ball.dy = (hitPos - 0.5) * 8;
      }

      // Player 2 paddle
      if (
        ball.x + ball.size >= player2.x &&
        ball.x <= player2.x + player2.width &&
        ball.y + ball.size >= player2.y &&
        ball.y <= player2.y + player2.height
      ) {
        ball.dx = -Math.abs(ball.dx);
        ball.speed += 0.2;
        ball.dx = -ball.speed;
        
        // Add angle based on where ball hits paddle
        const hitPos = (ball.y - player2.y) / player2.height;
        ball.dy = (hitPos - 0.5) * 8;
      }

      // Ball out of bounds (scoring)
      if (ball.x < 0) {
        player2.score++;
        score2El.textContent = player2.score;
        resetBall();
      }
      if (ball.x > canvas.width) {
        player1.score++;
        score1El.textContent = player1.score;
        resetBall();
      }
    }

    // Draw game objects
    function draw() {
      // Clear canvas
      ctx.fillStyle = '#ffffff';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Draw center line
      ctx.strokeStyle = '#e5e7eb';
      ctx.lineWidth = 2;
      ctx.setLineDash([10, 10]);
      ctx.beginPath();
      ctx.moveTo(canvas.width / 2, 0);
      ctx.lineTo(canvas.width / 2, canvas.height);
      ctx.stroke();
      ctx.setLineDash([]);

      // Draw paddles
      ctx.fillStyle = '#111827';
      ctx.fillRect(player1.x, player1.y, player1.width, player1.height);
      ctx.fillRect(player2.x, player2.y, player2.width, player2.height);

      // Draw ball
      ctx.fillStyle = '#111827';
      ctx.fillRect(ball.x, ball.y, ball.size, ball.size);
    }

    // Game loop
    function gameLoop() {
      update();
      draw();
      requestAnimationFrame(gameLoop);
    }

    // Start game
    gameLoop();
  </script>
</body>
</html>